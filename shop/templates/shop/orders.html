{% extends 'shop/layouts/main.html' %}

{% block title %}
    My Orders
{% endblock title %}

{% block content %}

    
   <section class= "bg-light my-2 p-5 ">
    <div class="container mt-5">
        <div class="row">
          <div class="col-12">
              <h4 class="text-white bg-dark px-3 py-2 d-inline-block" style="margin-top: 30px;border-radius:10px;">ğŸ›ï¸ My Orders</h4> 
              
          </div>
         </div>
    {% if orders %}
        {% for order in orders %}
       
            <div class="order-card my-4 shadow">
                <div class="order-header">
                    <h5 class="fw-bold text-success">Order #{{ order.id }}</h5>
                    <span class="badge rounded-pill  px-5 py-3 
                        {% if order.order_status == 'Pending' %} bg-white text-dark  shadow 
                        {% elif order.order_status == 'Processing' %} bg-info 
                        {% elif order.order_status == 'Shipped' %} bg-primary 
                        {% elif order.order_status == 'Delivered' %} bg-success
                        {% elif order.order_status == 'Cancelled' %} bg-danger 
                        {% endif %}
                    ">
                        {{ order.order_status }}
                    </span>
                </div>
                <h6 class="text-dark shadow-sm bg-white p-3 d-inline-block rounded text-center " style="font-weight:900;">ğŸ’° Total: â‚¹{{ order.total_price }}</h6>
                <p class="text-muted shadow-sm bg-white p-3 d-inline-block rounded mx-2">ğŸ“… Placed on: {{ order.created_at|date:"d M Y, H:i" }}</p>
                

                <!-- Order Items -->
                <div class="mt-3 d-flex gap-3 flex-wrap">
                    {% for item in order.items.all %}
                        <div class="item-card d-flex " >
                            <img src="{{ item.product.product_image.url }}" alt="{{ item.product.name }}" class="product-img">
                            <div class="product-details d-inline-block" >
                                <h6>{{ item.product.name }}</h6>
                                <p class="bg-dark rounded-pill text-white text-center p-2">Qty: {{ item.quantity }} | â‚¹{{ item.price }}</p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            
        {% endfor %}
    {% else %}
        <p class="alert alert-info text-center">No orders found.</p>
    {% endif %}
</div>
</section>
{% endblock content %}
